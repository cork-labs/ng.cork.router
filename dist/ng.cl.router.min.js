!function(a){"use strict";var b=a.module("ng.cl.router",["ngRoute"]);b.provider("clRouter",["$routeProvider",function(b){var c={},d=function(d,e){if(!a.isString(d)||!d.length)throw new Error('Invalid route name "'+d+'".');if(c[d])throw new Error('Duplicate route "'+d+'".');if(!a.isObject(e))throw new Error('Invalid config "'+e+'" in route "'+d+'".');var f=a.copy(e);if(!a.isString(f.path)||!f.path.length)throw new Error('Invalid path "'+f.path+'" in route "'+d+'".');f.name=d,c[d]=f,(f.controller||f.template||f.templateUrl)&&b.when(f.path,f)},e=function(a){if(!c.hasOwnProperty(a))throw new Error('Unknown route "'+a+'".');return c[a]},f=function(a,b){var c,d,f,g=e(a).path;return g=g.replace(/(\/)?:(\w+)(\?|\*)?/g,function(e,g,h,i){if(c=b.hasOwnProperty(h),"?"!==i&&!c)throw new Error('Missing parameter "'+h+'" when building URL for route "'+a+'".');return d=":"+h,"?"===i?(d+="\\?",c&&b[h]||(d="/"+d)):"*"===i&&(d+="\\*"),f=c&&b[h]||"",e.replace(new RegExp(d),f)})};this.addRoute=d,this.getRoute=e,this.getURL=f,this.$routeProvider=b,this.$get=["$route","$routeParams","$location",function(a,b,c){var g={addRoute:d,getRoute:e,getURL:function(a,b){return f(a,b)},goTo:function(a,b){return c.url(f(a,b))}};return g.$route=a,g.$params=b,g}]}])}(angular);